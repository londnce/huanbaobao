{"ast":null,"code":"import request from \"../utils/request\";\nexport default {\n  name: \"CategoryManage\",\n  data() {\n    return {\n      cateList: []\n    };\n  },\n  created() {},\n  methods: {\n    // 获取商品分类数据\n    async getCateList() {\n      const {\n        data: res\n      } = await this.$http.get('categories', {\n        params: this.queryInfo\n      });\n      if (res.meta.status !== 200) return this.$message.error('获取商品分类列表失败');\n      //console.log(res)\n      // 把数据赋值给cateList\n      this.cateList = res.data.result;\n      // 为总数据条数赋值\n      this.total = res.data.total;\n    },\n    load() {\n      request.get(\"/admin/category/page?\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          title: this.title\n        }\n      }).then(res => {\n        console.log(res);\n        this.tableData = res.data.data;\n        this.total = res.data.total;\n      });\n    },\n    handleSizeChange(pageSize) {\n      console.log(`每页 ${pageSize} 条`);\n      this.pageSize = pageSize;\n      this.load();\n    },\n    handleCurrentChange(pageNum) {\n      console.log(`当前页: ${pageNum}`);\n      this.pageNum = pageNum;\n      this.load();\n    }\n  }\n};","map":{"version":3,"mappings":"AAmDA;AAEA;EACAA;EACAC;IACA;MACAC;IACA;EACA;EACAC,WAEA;EACAC;IACA;IACA;MACA;QAAAH;MAAA;QAAAI;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACAC;QACAF;UACAG;UACAC;UACAC;QACA;MACA,GACAC;QACAC;QACA;QACA;MACA;IACA;IACAC;MACAD;MACA;MACA;IACA;IACAE;MACAF;MACA;MACA;IACA;EAEA;AACA","names":["name","data","cateList","created","methods","params","load","request","pageNum","pageSize","title","then","console","handleSizeChange","handleCurrentChange"],"sourceRoot":"src/views","sources":["CategoryManage.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <!--卡片视图区域-->\r\n        <el-card >\r\n            <!--添加分类按钮-->\r\n            <el-row>\r\n                <el-col>\r\n                    <el-button type=\"primary\">添加分类</el-button>\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <!-- 表格 -->\r\n            <tree-table :data=\"cateList\" :columns=\"columns\"\r\n                        :selection-type=false :expand-type=false\r\n                        show-index index-text=\"#\" border :show-row-hover=false\r\n            >\r\n                <!-- 是否有效列 -->\r\n                <template slot=\"isOk\"  scope=\"scope\">\r\n                    <i class=\"el-icon-success\" v-if=\"scope.row.cat_deleted === false\" style=\"color: #1E90FF;\"></i>\r\n                    <i class=\"el-icon-error\" v-else style=\"color: red;\"></i>\r\n                </template>\r\n                <!-- 排序列 -->\r\n                <template slot=\"order\" scope=\"scope\">\r\n                    <el-tag size=\"mini\" v-if=\"scope.row.cat_level==0\">一级</el-tag>\r\n                    <el-tag size=\"mini\" type=\"success\" v-else-if=\"scope.row.cat_level==1\">二级</el-tag>\r\n                    <el-tag size=\"mini\" type=\"warning\" v-else>三级</el-tag>\r\n                </template>\r\n                <!-- 操作列 -->\r\n                <template slot=\"opt\" scope=\"scope\">\r\n                    <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\">编辑</el-button>\r\n                    <el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\">删除</el-button>\r\n                </template>\r\n\r\n            </tree-table>\r\n            <!-- 分页区域 -->\r\n            <div style=\"padding: 10px 0\">\r\n                <el-pagination\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :current-page=\"pageNum\"\r\n                        :page-sizes=\"[5, 10, 15, 20]\"\r\n                        :page-size=\"pageSize\"\r\n                        layout=\"total, sizes, prev, pager, next, jumper\"\r\n                        :total=\"total\">\r\n                </el-pagination>\r\n            </div>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import request from \"../utils/request\";\r\n\r\n    export default {\r\n        name: \"CategoryManage\",\r\n        data(){\r\n            return {\r\n                cateList: [],\r\n            }\r\n        },\r\n        created() {\r\n            \r\n        },\r\n        methods: {\r\n            // 获取商品分类数据\r\n            async getCateList(){\r\n                const {data : res} = await this.$http.get('categories',{params: this.queryInfo})\r\n                if(res.meta.status !== 200) return this.$message.error('获取商品分类列表失败')\r\n                //console.log(res)\r\n                // 把数据赋值给cateList\r\n                this.cateList = res.data.result\r\n                // 为总数据条数赋值\r\n                this.total = res.data.total\r\n            },\r\n            load() {\r\n                request.get(\"/admin/category/page?\", {\r\n                    params: {\r\n                        pageNum: this.pageNum,\r\n                        pageSize: this.pageSize,\r\n                        title: this.title\r\n                    }\r\n                })\r\n                    .then(res => {\r\n                        console.log(res)\r\n                        this.tableData = res.data.data\r\n                        this.total = res.data.total\r\n                    })\r\n            },\r\n            handleSizeChange(pageSize) {\r\n                console.log(`每页 ${pageSize} 条`)\r\n                this.pageSize = pageSize\r\n                this.load()\r\n            },\r\n            handleCurrentChange(pageNum) {\r\n                console.log(`当前页: ${pageNum}`)\r\n                this.pageNum = pageNum\r\n                this.load()\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}