{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport request from \"../utils/request\";\nexport default {\n  name: \"Header\",\n  data() {\n    return {\n      admin: localStorage.getItem(\"admin\") ? JSON.parse(localStorage.getItem(\"admin\")) : {},\n      dialogFormVisible: false,\n      form: {}\n    };\n  },\n  computed: {\n    currentPathName() {\n      return this.$store.state.currentPathName;\n    }\n  },\n  watch: {\n    currentPathName(newVal, oldVal) {\n      console.log(newVal);\n    }\n  },\n  methods: {\n    logout() {\n      this.$router.push(\"/login\");\n      localStorage.removeItem(\"admin\");\n      this.$message.success(\"退出成功\");\n    },\n    cancel() {\n      this.dialogFormVisible = false;\n      this.load();\n    },\n    edit() {\n      request.put(\"/admin/editPerson\", this.form).then(res => {\n        if (res) {\n          this.$message.success(\"编辑成功\");\n          this.dialogFormVisible = false;\n          this.load();\n        } else {\n          this.$message.error(\"编辑失败\");\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAsCA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAD;MACAE;IACA;EACA;EACAC;IACAC;MACA;MACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACAC;QACA;UACA;UACA;UACA;QACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","data","admin","dialogFormVisible","form","computed","currentPathName","watch","console","methods","logout","localStorage","cancel","edit","request"],"sourceRoot":"src/components","sources":["Header.vue"],"sourcesContent":["<template>\r\n    <div style=\"line-height: 60px; display: flex\">\r\n        <div style=\"flex: 1; font-size: 20px;\">\r\n            <el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"margin-top: 24px\">\r\n                <el-breadcrumb-item :to=\"{path: '/'}\">首页</el-breadcrumb-item>\r\n                <el-breadcrumb-item>{{currentPathName}}</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <el-dropdown style=\"width: 70px; cursor: pointer\">\r\n            <i class=\"el-icon-setting\" style=\"margin-right: 15px\"></i>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item to=\"/personal\">个人信息</el-dropdown-item>\r\n                <el-dropdown-item>修改密码</el-dropdown-item>\r\n                <el-dropdown-item><span style=\"text-decoration: none\" @click=\"logout\">退出登录</span></el-dropdown-item>\r\n            </el-dropdown-menu>\r\n            <span>{{admin.adminName}}</span>\r\n        </el-dropdown>\r\n        <el-dialog title=\"修改密码\" :visible.sync=\"dialogFormVisible\"  width=\"400px\">\r\n            <el-form label-width=\"100px\">\r\n                <el-form-item label=\"旧密码\">\r\n                    <el-input v-model=\"form.oldPw\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"新密码\">\r\n                    <el-input v-model=\"form.newPw\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"确认密码\">\r\n                    <el-input v-model=\"form.resPw\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"cancel\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"edit\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import request from \"../utils/request\";\r\n\r\n    export default {\r\n        name: \"Header\",\r\n        data(){\r\n            return{\r\n                admin: localStorage.getItem(\"admin\") ? JSON.parse(localStorage.getItem(\"admin\")) : {},\r\n                dialogFormVisible: false,\r\n                form: {},\r\n            }\r\n        },\r\n        computed: {\r\n          currentPathName(){\r\n              return this.$store.state.currentPathName;\r\n          }\r\n        },\r\n        watch: {\r\n            currentPathName(newVal, oldVal) {\r\n                console.log(newVal)\r\n            }\r\n        },\r\n        methods: {\r\n            logout(){\r\n                this.$router.push(\"/login\")\r\n                localStorage.removeItem(\"admin\")\r\n                this.$message.success(\"退出成功\")\r\n            },\r\n            cancel(){\r\n                this.dialogFormVisible = false\r\n                this.load()\r\n            },\r\n            edit(){\r\n                request.put(\"/admin/editPerson\",this.form).then(res => {\r\n                    if (res) {\r\n                        this.$message.success(\"编辑成功\")\r\n                        this.dialogFormVisible = false\r\n                        this.load()\r\n                    }else {\r\n                        this.$message.error(\"编辑失败\")\r\n                    }\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}