{"ast":null,"code":"\"use strict\";\n\nimport Vue from 'vue';\nimport axios from \"axios\";\n\n// Full config:  https://github.com/axios/axios#request-config\n// axios.defaults.baseURL = process.env.baseURL || process.env.apiUrl || '';\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\nlet config = {\n  baseURI: 'http://localhost:9090',\n  timeout: 5000\n  // baseURL: process.env.baseURL || process.env.apiUrl || \"\"\n  // timeout: 60 * 1000, // Timeout\n  // withCredentials: true, // Check cross-site Access-Control\n};\n\nconst _axios = axios.create(config);\n_axios.interceptors.request.use(function (config) {\n  // Do something before request is sent\n  config.headers['Content-Type'] = 'application/json;charset=utf-8';\n  return config;\n}, function (error) {\n  // Do something with request error\n  return Promise.reject(error);\n});\n\n// Add a response interceptor\n_axios.interceptors.response.use(function (response) {\n  // Do something with response data\n  let res = response.data;\n  // 如果是返回的文件\n  if (response.config.responseType === 'blob') {\n    return res;\n  }\n  // 兼容服务端返回的字符串数据\n  if (typeof res === 'string') {\n    res = res ? JSON.parse(res) : res;\n  }\n  return res;\n}, function (error) {\n  // Do something with response error\n  console.log('err' + error);\n  return Promise.reject(error);\n});\nPlugin.install = function (Vue, options) {\n  Vue.axios = _axios;\n  window.axios = _axios;\n  Object.defineProperties(Vue.prototype, {\n    axios: {\n      get() {\n        return _axios;\n      }\n    },\n    $axios: {\n      get() {\n        return _axios;\n      }\n    }\n  });\n};\nVue.use(Plugin);\nexport default Plugin;","map":{"version":3,"names":["Vue","axios","config","baseURI","timeout","_axios","create","interceptors","request","use","headers","error","Promise","reject","response","res","data","responseType","JSON","parse","console","log","Plugin","install","options","window","Object","defineProperties","prototype","get","$axios"],"sources":["C:/Users/londn/Desktop/springboot-环宝宝/vue/vue/src/plugins/axios.js"],"sourcesContent":["\"use strict\";\n\nimport Vue from 'vue';\nimport axios from \"axios\";\n\n// Full config:  https://github.com/axios/axios#request-config\n// axios.defaults.baseURL = process.env.baseURL || process.env.apiUrl || '';\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\nlet config = {\n  baseURI: 'http://localhost:9090',\n  timeout: 5000\n  // baseURL: process.env.baseURL || process.env.apiUrl || \"\"\n  // timeout: 60 * 1000, // Timeout\n  // withCredentials: true, // Check cross-site Access-Control\n};\n\nconst _axios = axios.create(config);\n\n_axios.interceptors.request.use(\n  function(config) {\n    // Do something before request is sent\n    config.headers['Content-Type'] = 'application/json;charset=utf-8';\n    return config;\n  },\n  function(error) {\n    // Do something with request error\n    return Promise.reject(error);\n  }\n);\n\n// Add a response interceptor\n_axios.interceptors.response.use(\n  function(response) {\n    // Do something with response data\n    let res = response.data;\n    // 如果是返回的文件\n    if (response.config.responseType === 'blob') {\n      return res\n    }\n    // 兼容服务端返回的字符串数据\n    if (typeof res === 'string') {\n      res = res ? JSON.parse(res) : res\n    }\n    return res;\n  },\n  function(error) {\n    // Do something with response error\n    console.log('err' + error)\n    return Promise.reject(error);\n  }\n);\n\nPlugin.install = function(Vue, options) {\n  Vue.axios = _axios;\n  window.axios = _axios;\n  Object.defineProperties(Vue.prototype, {\n    axios: {\n      get() {\n        return _axios;\n      }\n    },\n    $axios: {\n      get() {\n        return _axios;\n      }\n    },\n  });\n};\n\nVue.use(Plugin)\n\nexport default Plugin;\n"],"mappings":"AAAA,YAAY;;AAEZ,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA;;AAEA,IAAIC,MAAM,GAAG;EACXC,OAAO,EAAE,uBAAuB;EAChCC,OAAO,EAAE;EACT;EACA;EACA;AACF,CAAC;;AAED,MAAMC,MAAM,GAAGJ,KAAK,CAACK,MAAM,CAACJ,MAAM,CAAC;AAEnCG,MAAM,CAACE,YAAY,CAACC,OAAO,CAACC,GAAG,CAC7B,UAASP,MAAM,EAAE;EACf;EACAA,MAAM,CAACQ,OAAO,CAAC,cAAc,CAAC,GAAG,gCAAgC;EACjE,OAAOR,MAAM;AACf,CAAC,EACD,UAASS,KAAK,EAAE;EACd;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF;;AAED;AACAN,MAAM,CAACE,YAAY,CAACO,QAAQ,CAACL,GAAG,CAC9B,UAASK,QAAQ,EAAE;EACjB;EACA,IAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACvB;EACA,IAAIF,QAAQ,CAACZ,MAAM,CAACe,YAAY,KAAK,MAAM,EAAE;IAC3C,OAAOF,GAAG;EACZ;EACA;EACA,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IAC3BA,GAAG,GAAGA,GAAG,GAAGG,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC,GAAGA,GAAG;EACnC;EACA,OAAOA,GAAG;AACZ,CAAC,EACD,UAASJ,KAAK,EAAE;EACd;EACAS,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGV,KAAK,CAAC;EAC1B,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF;AAEDW,MAAM,CAACC,OAAO,GAAG,UAASvB,GAAG,EAAEwB,OAAO,EAAE;EACtCxB,GAAG,CAACC,KAAK,GAAGI,MAAM;EAClBoB,MAAM,CAACxB,KAAK,GAAGI,MAAM;EACrBqB,MAAM,CAACC,gBAAgB,CAAC3B,GAAG,CAAC4B,SAAS,EAAE;IACrC3B,KAAK,EAAE;MACL4B,GAAG,GAAG;QACJ,OAAOxB,MAAM;MACf;IACF,CAAC;IACDyB,MAAM,EAAE;MACND,GAAG,GAAG;QACJ,OAAOxB,MAAM;MACf;IACF;EACF,CAAC,CAAC;AACJ,CAAC;AAEDL,GAAG,CAACS,GAAG,CAACa,MAAM,CAAC;AAEf,eAAeA,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}