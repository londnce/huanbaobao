{"ast":null,"code":"export default {\n  name: 'Home',\n  props: {\n    visibilityHeight: {\n      type: Number,\n      default: 400\n    },\n    backPosition: {\n      type: Number,\n      default: 0\n    },\n    customStyle: {\n      type: Object,\n      default: function () {\n        return {\n          right: '50px',\n          bottom: '50px',\n          width: '40px',\n          height: '40px',\n          'border-radius': '4px',\n          'line-height': '45px',\n          background: '#e7eaf1'\n        };\n      }\n    },\n    transitionName: {\n      type: String,\n      default: 'fade'\n    }\n  },\n  data() {\n    return {\n      visible: false,\n      interval: null,\n      isMoving: false\n    };\n  },\n  mounted() {\n    window.addEventListener('scroll', this.handleScroll);\n  },\n  beforeDestroy() {\n    window.removeEventListener('scroll', this.handleScroll);\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  },\n  methods: {\n    handleScroll() {\n      this.visible = window.pageYOffset > this.visibilityHeight;\n    },\n    backToTop() {\n      if (this.isMoving) return;\n      const start = window.pageYOffset;\n      let i = 0;\n      this.isMoving = true;\n      this.interval = setInterval(() => {\n        const next = Math.floor(this.easeInOutQuad(10 * i, start, -start, 500));\n        if (next <= this.backPosition) {\n          window.scrollTo(0, this.backPosition);\n          clearInterval(this.interval);\n          this.isMoving = false;\n        } else {\n          window.scrollTo(0, next);\n        }\n        i++;\n      }, 16.7);\n    },\n    easeInOutQuad(t, b, c, d) {\n      if ((t /= d / 2) < 1) return c / 2 * t * t + b;\n      return -c / 2 * (--t * (t - 2) - 1) + b;\n    }\n  }\n};","map":{"version":3,"mappings":"AASA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;QACA;UACAG;UACAC;UACAC;UACAC;UACA;UACA;UACAC;QACA;MACA;IACA;IACAC;MACAT;MACAC;IACA;EACA;EACAS;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACAD;IACA;MACAE;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;QACA;QACA;UACAL;UACAE;UACA;QACA;UACAF;QACA;QACAM;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA","names":["name","props","visibilityHeight","type","default","backPosition","customStyle","right","bottom","width","height","background","transitionName","data","visible","interval","isMoving","mounted","window","beforeDestroy","clearInterval","methods","handleScroll","backToTop","i","easeInOutQuad"],"sourceRoot":"src/views","sources":["Home.vue"],"sourcesContent":["<template>\r\n    <transition :name=\"transitionName\">\r\n        <div v-show=\"visible\" :style=\"customStyle\" class=\"back-to-ceiling\" @click=\"backToTop\">\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\" class=\"Icon Icon--backToTopArrow\" aria-hidden=\"true\" style=\"height:16px;width:16px\"><path d=\"M12.036 15.59a1 1 0 0 1-.997.995H5.032a.996.996 0 0 1-.997-.996V8.584H1.03c-1.1 0-1.36-.633-.578-1.416L7.33.29a1.003 1.003 0 0 1 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.004z\" /></svg>\r\n        </div>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'Home',\r\n        props: {\r\n            visibilityHeight: {\r\n                type: Number,\r\n                default: 400\r\n            },\r\n            backPosition: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            customStyle: {\r\n                type: Object,\r\n                default: function() {\r\n                    return {\r\n                        right: '50px',\r\n                        bottom: '50px',\r\n                        width: '40px',\r\n                        height: '40px',\r\n                        'border-radius': '4px',\r\n                        'line-height': '45px',\r\n                        background: '#e7eaf1'\r\n                    }\r\n                }\r\n            },\r\n            transitionName: {\r\n                type: String,\r\n                default: 'fade'\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                visible: false,\r\n                interval: null,\r\n                isMoving: false\r\n            }\r\n        },\r\n        mounted() {\r\n            window.addEventListener('scroll', this.handleScroll)\r\n        },\r\n        beforeDestroy() {\r\n            window.removeEventListener('scroll', this.handleScroll)\r\n            if (this.interval) {\r\n                clearInterval(this.interval)\r\n            }\r\n        },\r\n        methods: {\r\n            handleScroll() {\r\n                this.visible = window.pageYOffset > this.visibilityHeight\r\n            },\r\n            backToTop() {\r\n                if (this.isMoving) return\r\n                const start = window.pageYOffset\r\n                let i = 0\r\n                this.isMoving = true\r\n                this.interval = setInterval(() => {\r\n                    const next = Math.floor(this.easeInOutQuad(10 * i, start, -start, 500))\r\n                    if (next <= this.backPosition) {\r\n                        window.scrollTo(0, this.backPosition)\r\n                        clearInterval(this.interval)\r\n                        this.isMoving = false\r\n                    } else {\r\n                        window.scrollTo(0, next)\r\n                    }\r\n                    i++\r\n                }, 16.7)\r\n            },\r\n            easeInOutQuad(t, b, c, d) {\r\n                if ((t /= d / 2) < 1) return c / 2 * t * t + b\r\n                return -c / 2 * (--t * (t - 2) - 1) + b\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .back-to-ceiling {\r\n        position: fixed;\r\n        display: inline-block;\r\n        text-align: center;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .back-to-ceiling:hover {\r\n        background: #d5dbe7;\r\n    }\r\n\r\n    .fade-enter-active,\r\n    .fade-leave-active {\r\n        transition: opacity .5s;\r\n    }\r\n\r\n    .fade-enter,\r\n    .fade-leave-to {\r\n        opacity: 0\r\n    }\r\n\r\n    .back-to-ceiling .Icon {\r\n        fill: #9aaabf;\r\n        background: none;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}